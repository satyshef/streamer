# streamer
Dag для airflow который выполняет стрим видеороликов на youtube
Для стрима используется утилита ffmpeg

Видео компилируется из всех файлов находящихся в директории SOURCE_DIR
Основа обложки случайное изображение из SOURCE_DIR, если там нет картинок тогда  
используется IMAGE_INPUT_PATH. На изображение накладывается текущая дата и время. 
Результат сохраняется в IMAGE_RESULT_DIR с таким же именем как и основа

MIN_VIDEO_DURATION минимальная длительность видео для стрима в секундах, если до этой длительности
недостаточно роликов тогда задача игнорируется до тех пор пока не наберется необходимое кол-во роликов
На данный момент автоматическое вычисление длительности видефайлов не реализовано, предполагается что длина
фиксирована и равна CLIP_DURATION

Перед началом стрима формируется виде плейлист VIDEO_PLAYLIST
Аудио загружается из плейлиста AUDIO_PLAYLIST

По окончании стрима все файлы из SOURCE_DIR удаляются

 

